{"ast":null,"code":"import React,{Component,useEffect,useState}from\"react\";import{useContext}from\"react\";import ScoreContext from\"../contexts/scoreContext\";import GameContext from\"../contexts/gameContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ScoreDisplay(){const{setScoreInfo,scoreInfo}=useContext(ScoreContext);const{gameInfo}=useContext(GameContext);const[isScoreVisible,setIsScoreVisible]=React.useState(false);useEffect(()=>{const storedScoreInfo=JSON.parse(localStorage.getItem(\"scoreInfo\"));if(gameInfo&&gameInfo.eingeloggt){setIsScoreVisible(true);if(!scoreInfo){if(storedScoreInfo){setScoreInfo(storedScoreInfo);}else{setScoreInfo([{Index:0,distance:gameInfo.distance,score:gameInfo.score,name:gameInfo.name}]);}}else{const newScoreInfo={Index:scoreInfo.length,distance:gameInfo.distance,score:gameInfo.score,name:gameInfo.name};setScoreInfo([...scoreInfo,newScoreInfo]);localStorage.setItem(\"scoreInfo\",JSON.stringify([...scoreInfo,newScoreInfo]));}}},[gameInfo]);// Run effect when gameInfo changes\nconst closeScoreInfo=()=>{setIsScoreVisible(false);};return isScoreVisible?/*#__PURE__*/_jsxs(\"div\",{id:\"scoreContainer\",style:{position:\"fixed\",top:\"50%\",left:\"50%\",width:\"70%\",height:\"70%\",textAlign:\"center\",fontSize:\"24px\",transform:\"translate(-50%, -50%)\",zIndex:1,boxShadow:\"0 0 10px rgba(0, 0, 0, 0.5)\",backgroundColor:\"black\",padding:\"20px\",overflowY:\"scroll\",border:\"2px solid white\",borderRadius:\"10px\"},children:[/*#__PURE__*/_jsx(\"button\",{onClick:closeScoreInfo,style:{position:\"absolute\",top:\"0px\",right:\"10px\",background:\"none\",border:\"none\",color:\"white\",fontSize:\"24px\"},children:\"X\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Highscores\"}),scoreInfo?[...scoreInfo].sort((a,b)=>b.score-a.score).map((score,i,arr)=>{const maxIndex=Math.max(...arr.map(score=>score.Index));return/*#__PURE__*/_jsxs(\"p\",{id:\"score\",style:{color:score.Index===maxIndex?\"red\":\"white\"},children:[score.name,\": \",score.score]},i);}):/*#__PURE__*/_jsx(\"p\",{children:\"Score Pending...\"})]}):null;}export default ScoreDisplay;","map":{"version":3,"names":["React","Component","useEffect","useState","useContext","ScoreContext","GameContext","jsx","_jsx","jsxs","_jsxs","ScoreDisplay","setScoreInfo","scoreInfo","gameInfo","isScoreVisible","setIsScoreVisible","storedScoreInfo","JSON","parse","localStorage","getItem","eingeloggt","Index","distance","score","name","newScoreInfo","length","setItem","stringify","closeScoreInfo","id","style","position","top","left","width","height","textAlign","fontSize","transform","zIndex","boxShadow","backgroundColor","padding","overflowY","border","borderRadius","children","onClick","right","background","color","sort","a","b","map","i","arr","maxIndex","Math","max"],"sources":["C:/_Code/WEB2/Abgabe Final Huge/kÃ¶lnguessr/cologneguessr/src/components/ScoreDisplay.js"],"sourcesContent":["import React, { Component, useEffect, useState } from \"react\";\r\nimport { useContext } from \"react\";\r\n\r\nimport ScoreContext from \"../contexts/scoreContext\";\r\nimport GameContext from \"../contexts/gameContext\";\r\n\r\nfunction ScoreDisplay() {\r\n  const { setScoreInfo, scoreInfo } = useContext(ScoreContext);\r\n  const { gameInfo } = useContext(GameContext);\r\n\r\n  const [isScoreVisible, setIsScoreVisible] = React.useState(false);\r\n\r\n  useEffect(() => {\r\n    const storedScoreInfo = JSON.parse(localStorage.getItem(\"scoreInfo\"));\r\n\r\n    if (gameInfo && gameInfo.eingeloggt) {\r\n      setIsScoreVisible(true);\r\n      if (!scoreInfo) {\r\n        if (storedScoreInfo) {\r\n          setScoreInfo(storedScoreInfo);\r\n          \r\n        } else {\r\n          setScoreInfo([\r\n            {\r\n              Index: 0,\r\n              distance: gameInfo.distance,\r\n              score: gameInfo.score,\r\n              name: gameInfo.name,\r\n            },\r\n          ]);\r\n        }\r\n      } \r\n      else {\r\n        const newScoreInfo = {\r\n          Index: scoreInfo.length,\r\n          distance: gameInfo.distance,\r\n          score: gameInfo.score,\r\n          name: gameInfo.name,\r\n        };\r\n        setScoreInfo([...scoreInfo, newScoreInfo]);\r\n        localStorage.setItem(\r\n          \"scoreInfo\",\r\n          JSON.stringify([...scoreInfo, newScoreInfo])\r\n        );\r\n      }\r\n    }\r\n  }, [gameInfo]); // Run effect when gameInfo changes\r\n\r\n  const closeScoreInfo = () => {\r\n    setIsScoreVisible(false);\r\n  };\r\n\r\n  return isScoreVisible ? (\r\n    <div\r\n      id=\"scoreContainer\"\r\n      style={{\r\n        position: \"fixed\",\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n        width: \"70%\",\r\n        height: \"70%\",\r\n        textAlign: \"center\",\r\n        fontSize: \"24px\",\r\n        transform: \"translate(-50%, -50%)\",\r\n        zIndex: 1,\r\n        boxShadow: \"0 0 10px rgba(0, 0, 0, 0.5)\",\r\n        backgroundColor: \"black\",\r\n        padding: \"20px\",\r\n        overflowY: \"scroll\",\r\n        border: \"2px solid white\",\r\n        borderRadius: \"10px\",\r\n      }}\r\n    >\r\n      <button\r\n        onClick={closeScoreInfo}\r\n        style={{\r\n          position: \"absolute\",\r\n          top: \"0px\",\r\n          right: \"10px\",\r\n          background: \"none\",\r\n          border: \"none\",\r\n          color: \"white\",\r\n          fontSize: \"24px\",\r\n        }}\r\n      >\r\n        X\r\n      </button>\r\n\r\n      <h1>Highscores</h1>\r\n      {scoreInfo ? (\r\n        [...scoreInfo]\r\n          .sort((a, b) => b.score - a.score)\r\n          .map((score, i, arr) => {\r\n            const maxIndex = Math.max(...arr.map((score) => score.Index));\r\n            return (\r\n              <p\r\n                key={i}\r\n                id=\"score\"\r\n                style={{ color: score.Index === maxIndex ? \"red\" : \"white\" }}\r\n              >\r\n                {score.name}: {score.score}\r\n              </p>\r\n            );\r\n          })\r\n      ) : (\r\n        <p>Score Pending...</p>\r\n      )}\r\n    </div>\r\n  ) : null;\r\n}\r\n\r\nexport default ScoreDisplay;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}